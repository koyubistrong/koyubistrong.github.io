<!doctype html>
<html>
  <head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-162147615-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-162147615-1');
	</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>KOYUBI</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <a href="index.html"><h1>KOYUBI</h1></a>
		<a href="index.html?id=section_poke_calc">ポケモンけいけんアメ必要数計算</a><br>
		<a href="index.html?id=section_create_auto_map">ローグライクのマップ自動生成</a>
        <br><br>
		<p class="view"><a href="https://github.com/koyubistrong">View My GitHub Profile</a></p>

      </header>
      <section id="section_index">
        <h3>
		<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome to GitHub Pages.</h3>

      </section>
	  <section id="section_poke_calc">
	  　　<h2>ポケモンけいけんアメ必要数計算</h2>
	    経験値タイプ
		<select id="exp_type" onChange="PokeCalc.recalc()">
		  <option value="0">60万経験値</option>
		  <option value="1">80万経験値</option>
		  <option value="2" selected>100万経験値</option>
		  <option value="3">105万経験値</option>
		  <option value="4">125万経験値</option>
		  <option value="5">164万経験値</option>
		</select><br>
		現在のレベル
		<select id="current_level" onChange="PokeCalc.recalc()"></select>
		<input type="text" id="current_exp" onInput="PokeCalc.recalc()" readonly>
		<input type="checkbox" id="ch_any_exp" onChange="PokeCalc.recalc()">任意値<br>
		目標のレベル
		<select id="goal_level" onChange="PokeCalc.recalc()"></select>
		<button onClick="PokeCalc.createTable();" style="display:none;">test</button>
		<input type="text" id="goal_exp" readonly><br>
		<br>
		<h3>単独使用</h3>
		<table>
		<tr><th>けいけんアメ</th><th>必要数</th></tr>
		<tr><td>XL</td><td><input type="text" id="exp_candy_xl"></td></tr>
		<tr><td>L</td><td><input type="text" id="exp_candy_l"></td></tr>
		<tr><td>M</td><td><input type="text" id="exp_candy_m"></td></tr>
		<tr><td>S</td><td><input type="text" id="exp_candy_s"></td></tr>
		<tr><td>XS</td><td><input type="text" id="exp_candy_xs"></td></tr>
		</table>
		<h3>節約使用</h3>
		<table>
		<tr><th>けいけんアメ</th><th>必要数</th></tr>
		<tr><td>XL</td><td><input type="text" id="exp_candy2_xl"></td></tr>
		<tr><td>L</td><td><input type="text" id="exp_candy2_l"></td></tr>
		<tr><td>M</td><td><input type="text" id="exp_candy2_m"></td></tr>
		<tr><td>S</td><td><input type="text" id="exp_candy2_s"></td></tr>
		<tr><td>XS</td><td><input type="text" id="exp_candy2_xs"></td></tr>
		</table>
		<table id="ex_table">
		
		</table>
	  </section>
	  <section id="section_create_auto_map">
	  	<h2>ローグライクのマップ自動生成</h2>
		  スマホからではJavaScriptがうまく動作しないようなので、<br>PCからアクセスをお願いします。<br><br>
		<table style="width: 480px">
			<tr><td>フロアの大きさ</td><td>横 <input type="number" id="floor_width" min="1" max="300" value="56" onchange="AutoMap2D.limitFormCheck(this)"> 縦 <input type="number" id="floor_height" min="1" max="300" value="34" onchange="AutoMap2D.limitFormCheck(this)"> </td></tr>
			<tr><td>フロアの分割数</td><td> 横 <input type="number" id="floor_div_width" min="1" max="10" value="4" onchange="AutoMap2D.limitFormCheck(this)"> 縦 <input type="number" id="floor_div_height" size="10" min="1" max="10" value="3" onchange="AutoMap2D.limitFormCheck(this)"></td></tr>
			<tr><td>部屋の数</td><td><input type="number" id="room_num" min="0" max="100" value="6" onchange="AutoMap2D.limitFormCheck(this)"></td></tr>
			<tr><td>中間通路の数</td><td><input type="number" id="middle_aisle_num" min="0" max="100" value="4" onchange="AutoMap2D.limitFormCheck(this)"></td></tr>
			<tr><td>部屋間接続確率</td><td><select id="connect_rate"></select> ※0%にしても最低限の接続は行われる</td></tr>
		</table>
		  <button type="submit" onclick="AutoMap2D.generate()">再生成</button> <span style="color:red" id="error_msg_auto_map"></span><br>
		  <br>
		  <main id="create_auto_map">
		  </main>
	  </section>
      <footer>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
	<script src="javascripts/library/union_find.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
    <script src="javascripts/scale.fix.js"></script>
    <script src="javascripts/poke_calc.js"></script>
	<script src="javascripts/create_auto_map.js"></script>
	   <script>
	    var queries = GetQueryString();
		var id = queries["id"];
		if(id != null) {
			changeSection(id);
		}
		else {
			changeSection("section_index");
		}
		PokeCalc.init();
		AutoMap2D.init();
		AutoMap2D.generate();
		function changeSection(id) {
			var section = document.getElementsByTagName('section');
			for (var elem of section) {
				if (elem.id == id) {
					elem.style.display = "block";
				}
				else {
					elem.style.display = "none";
				}
			}
		}
		function GetQueryString() {
			var result = {};
			if( 1 < window.location.search.length ) {
				var query = window.location.search.substring( 1 );

				// クエリの区切り記号 (&) で文字列を配列に分割する
				var parameters = query.split( '&' );

				for( var i = 0; i < parameters.length; i++ ) {
					// パラメータ名とパラメータ値に分割する
					var element = parameters[ i ].split( '=' );

					var paramName = decodeURIComponent( element[ 0 ] );
					var paramValue = decodeURIComponent( element[ 1 ] );

					// パラメータ名をキーとして連想配列に追加する
					result[ paramName ] = paramValue;
				}
			}
			return result;
		}
	</script>
  </body>
</html>
