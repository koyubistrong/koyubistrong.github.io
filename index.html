<!doctype html>
<html>
  <head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-162147615-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-162147615-1');
	</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>KOYUBI</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <a href="index.html"><h1>KOYUBI</h1></a>
		<a href="index.html?id=section_poke_calc">ポケモンけいけんアメ必要数計算</a><br>
		<a href="index.html?id=section_create_auto_map">ローグライクのマップ自動生成</a><br>
		<a href="index.html?id=section_roguelike_game">動きテスト</a><br>
		<a href="index.html?id=section_shiren5">シレン5&nbsp;&nbsp;受ダメ&与ダメ計算</a>
        <br><br>
		<p class="view">
			<a target="_blank" rel="noopener noreferrer" href="https://github.com/koyubistrong">View My GitHub Profile</a><br>
			<a target="_blank" rel="noopener noreferrer" href="https://twitter.com/hp_prolog">Twitter @hp_prolog</a>
		</p>
      </header>
      <section id="section_index" style="display: none">
        <h3>
		<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true">
			<span class="octicon octicon-link"></span>
		</a>
		Welcome to GitHub Pages.
		</h3>
      </section>
	  <section id="section_poke_calc" style="display: none">
	  　<h2>ポケモンけいけんアメ必要数計算</h2>
	    経験値タイプ
		<select id="exp_type" onChange="PokeCalc.recalc()">
		  <option value="0">60万経験値</option>
		  <option value="1">80万経験値</option>
		  <option value="2" selected>100万経験値</option>
		  <option value="3">105万経験値</option>
		  <option value="4">125万経験値</option>
		  <option value="5">164万経験値</option>
		</select><br>
		現在のレベル
		<select id="current_level" onChange="PokeCalc.recalc()"></select>
		<input type="text" id="current_exp" onInput="PokeCalc.recalc()" readonly>
		<input type="checkbox" id="ch_any_exp" onChange="PokeCalc.recalc()">任意値<br>
		目標のレベル
		<select id="goal_level" onChange="PokeCalc.recalc()"></select>
		<button onClick="PokeCalc.createTable();" style="display:none;">test</button>
		<input type="text" id="goal_exp" readonly><br>
		<br>
		<h3>単独使用</h3>
		<table>
		<tr><th>けいけんアメ</th><th>必要数</th></tr>
		<tr><td>XL</td><td><input type="text" id="exp_candy_xl"></td></tr>
		<tr><td>L</td><td><input type="text" id="exp_candy_l"></td></tr>
		<tr><td>M</td><td><input type="text" id="exp_candy_m"></td></tr>
		<tr><td>S</td><td><input type="text" id="exp_candy_s"></td></tr>
		<tr><td>XS</td><td><input type="text" id="exp_candy_xs"></td></tr>
		</table>
		<h3>節約使用</h3>
		<table>
		<tr><th>けいけんアメ</th><th>必要数</th></tr>
		<tr><td>XL</td><td><input type="text" id="exp_candy2_xl"></td></tr>
		<tr><td>L</td><td><input type="text" id="exp_candy2_l"></td></tr>
		<tr><td>M</td><td><input type="text" id="exp_candy2_m"></td></tr>
		<tr><td>S</td><td><input type="text" id="exp_candy2_s"></td></tr>
		<tr><td>XS</td><td><input type="text" id="exp_candy2_xs"></td></tr>
		</table>
		<table id="ex_table">
		
		</table>
	  </section>
	  <section id="section_create_auto_map" style="display: none">
	  	<h2>ローグライクのマップ自動生成</h2>
		<table style="width: 480px">
			<tr><td>フロアの大きさ</td><td>横 <input type="number" id="floor_width" min="1" max="300" value="56" onchange="limitFormCheck(this)"> 縦 <input type="number" id="floor_height" min="1" max="300" value="34" onchange="limitFormCheck(this)"> </td></tr>
			<tr><td>フロアの分割数</td><td> 横 <input type="number" id="floor_div_width" min="1" max="10" value="4" onchange="limitFormCheck(this)"> 縦 <input type="number" id="floor_div_height" size="10" min="1" max="10" value="3" onchange="limitFormCheck(this)"></td></tr>
			<tr><td>部屋の数</td><td><input type="number" id="room_num" min="0" max="100" value="6" onchange="limitFormCheck(this)"></td></tr>
			<tr><td>中間通路の数</td><td><input type="number" id="middle_aisle_num" min="0" max="100" value="4" onchange="limitFormCheck(this)"></td></tr>
			<tr><td>部屋間接続確率</td><td><select id="connect_rate"></select> ※0%にしても最低限の接続は行われる</td></tr>
		</table>
		  <button type="submit" onclick="AutoMap2D.run()">再生成</button> <span style="color:red" id="error_msg_auto_map"></span><br>
		  <br>
		  <main id="create_auto_map">
		  </main>
	  </section>
	  <section id="section_roguelike_game" style="display: none">
		<h2>動きテスト</h2>
		<button type="submit" onclick="rg.init()">再生成</button><br><br>
		<main id="roguelike_game">
		</main>
	  </section>
	  <section id="section_shiren5" style="display: none">
		<h2>シレン5&nbsp;&nbsp;受ダメ&与ダメ計算</h2>
		<h3>説明</h3>
		<ul>
			<li>「受ダメ」は敵から通常攻撃を受けた時の最小ダメージと最大ダメージ。</li>
			<li>「与ダメ」は敵に通常攻撃した時の最小ダメージと最大ダメージ。</li>
			<li>「倒確率n」は敵HP満タンからn回通常攻撃を行った時の敵を倒せる確率(小数点第二を切り捨て)。<s>0%と100%以外の値は正確に計算していないため、概ねの確率になる。</s>正確に計算するようにした。(2022/07/03)</li>
			<li>計算結果の保証はできませんので悪しからず。</li>
		</ul>
		<h3>参照</h3>
		<ul>
			<li>
				[DS] 不思議のダンジョン 風来のシレン5 フォーチュンタワーと運命のダイス 攻略 組長式
				<ul>
					<li><a target="_blank" rel="noopener noreferrer" href="https://web.archive.org/web/20110925132715/http://kumicyou.sakura.ne.jp/shiren-ds-5/system-damage.html">ダメージ計算</a></li>
					<li><a target="_blank" rel="noopener noreferrer" href="https://web.archive.org/web/20110223053219/http://kumicyou.sakura.ne.jp/shiren-ds-5/monster-kind.html">モンスター系統</a></li>
					<li><a target="_blank" rel="noopener noreferrer" href="https://web.archive.org/web/20110215135525/http://kumicyou.sakura.ne.jp/shiren-ds-5/dungeon-gensi.html">原始に続く穴</a></li>
					<li><a target="_blank" rel="noopener noreferrer" href="https://web.archive.org/web/20101219220505/http://kumicyou.sakura.ne.jp/shiren-ds-5/dungeon-ana.html">人生の落とし穴</a></li>
				</ul>
			</li>
			<li>
				えまのんの雑記
				<ul>
					<li><a target="_blank" rel="noopener noreferrer" href="https://eminaemanon.hatenablog.com/entry/2022/06/11/%E3%80%90%E9%A2%A8%E6%9D%A5%E3%81%AE%E3%82%B7%E3%83%AC%E3%83%B35plus%E3%80%91%E6%AD%A6%E5%99%A8%E6%9D%9F%E3%81%AD%E3%81%AE%E8%85%95%E8%BC%AA%E3%81%AE%E4%BB%95%E6%A7%98%E6%A4%9C%E8%A8%BC">【風来のシレン5plus】武器束ねの腕輪の仕様検証</a></li>
					<li><a target="_blank" rel="noopener noreferrer" href="https://eminaemanon.hatenablog.com/entry/2022/06/24/%E3%80%90%E9%A2%A8%E6%9D%A5%E3%81%AE%E3%82%B7%E3%83%AC%E3%83%B35_plus%E3%80%91%E3%83%80%E3%83%A1%E3%83%BC%E3%82%B8%E8%A8%88%E7%AE%97%E5%BC%8F%E3%81%AE%E6%8E%A8%E5%AE%9A%E3%80%90%E6%B1%BA%E5%AE%9A">【風来のシレン5 plus】ダメージ計算式の推定【決定版】</a></li>
					<li><a target="_blank" rel="noopener noreferrer" href="https://eminaemanon.hatenablog.com/entry/2022/08/15/%E3%80%90%E9%A2%A8%E6%9D%A5%E3%81%AE%E3%82%B7%E3%83%AC%E3%83%B35_plus%E3%80%91%E3%83%80%E3%83%A1%E3%83%BC%E3%82%B8%E8%A8%88%E7%AE%97%E5%BC%8F%E3%81%AE%E6%8E%A8%E5%AE%9A%E3%80%90%E5%90%84%E7%A8%AE">【風来のシレン5 plus】ダメージ計算式の推定【各種ダメージアップ・ダウン編】</a></li>
				</ul>
			</li>
		</ul>
		<h3>計算</h3>
		<table>
			<tr>
				<th style="width: 100px"></th><th></th>
			</tr>
			<tr>
				<td>レベル</td>	
				<td><input type="number" id="shiren5_level" min="1" max="99" value="1" onchange="limitFormCheck(this)" onInput="Shiren5Calc.calc()"></td>
			</tr>
			<tr>
				<td>武器</td>
				<td><input type="number" id="shiren5_weapon" min="0" max="152" value="0" onchange="limitFormCheck(this)" onInput="Shiren5Calc.calc()"></td>
			</tr>
			<tr>
				<td>力</td>
				<td><input type="number" id="shiren5_power" min="1" max="56" value="8" onchange="limitFormCheck(this)" onInput="Shiren5Calc.calc()"></td>
			</tr>
			<tr>
				<td>武器束ねの腕輪</td>
				<td>
					<select id="shiren5_weapon_bundle_bracelet"" onInput="Shiren5Calc.calc()">
					<option value="0">なし</option>
					<option value="1">1個</option>
					<option value="2">2個</option>
					</select>
					<input type="number" id="shiren5_isogeny_weapon" min="0" max="22" value="0" onchange="limitFormCheck(this)" onInput="Shiren5Calc.calc()">
				</td>
			</tr>
			<tr>
				<td>特効</td>
				<td>
					<select id="shiren5_sp_weapon_kind" onInput="Shiren5Calc.calc()">
						<option value="無" selected>無特効武器</option>
						<option value="全">金食い虫こん棒</option>
						<option value="目">一ツ目殺し</option>
						<option value="吸">ドレイン斬り</option>
						<option value="竜">トカゲ斬りの刃</option>
						<option value="爆">三日月刀</option>
						<option value="浮">空の刃</option>
						<option value="水">水斬りの剣</option>
						<option value="植">草かりのカマ</option>
						<option value="金">かねきりの刃</option>
						<option value="魔">魔法斬りの剣</option>
					</select>
					<select id="shiren5_sp_weapon_level" onInput="Shiren5Calc.calc()">
						<option value="1" selected>レベル1</option>
						<option value="2">レベル2</option>
						<option value="3">レベル3</option>
						<option value="4">レベル4</option>
						<option value="5">レベル5</option>
						<option value="6">レベル6</option>
						<option value="7">レベル7</option>
						<option value="8">レベル8</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>武器印</td>
				<td>
					<input type="checkbox" id="shiren5_special_eye" onchange="Shiren5Calc.calc()">
					一ツ目
					<input type="checkbox" id="shiren5_special_drain" onchange="Shiren5Calc.calc()">
					ドレイン
					<input type="checkbox" id="shiren5_special_dragon" onchange="Shiren5Calc.calc()">
					ドラゴン
					<input type="checkbox" id="shiren5_special_explosion" onchange="Shiren5Calc.calc()">
					爆発
					<input type="checkbox" id="shiren5_special_floating" onchange="Shiren5Calc.calc()">
					浮遊
					<br>
					<input type="checkbox" id="shiren5_special_water" onchange="Shiren5Calc.calc()">
					水棲
					<input type="checkbox" id="shiren5_special_plant" onchange="Shiren5Calc.calc()">
					植物
					<input type="checkbox" id="shiren5_special_metal" onchange="Shiren5Calc.calc()">
					金属
					<input type="checkbox" id="shiren5_special_magic" onchange="Shiren5Calc.calc()">
					魔法
					<input type="checkbox" id="shiren5_special_all" onchange="Shiren5Calc.calc()">
					金食い
				</td>
			</tr>
			<tr>
				<td>自攻撃力アップ</td>
				<td>
					<select id="shiren5_power_up_me" onInput="Shiren5Calc.calc()">
						<option value="-99">レベル-8</option>
						<option value="-97">レベル-7</option>
						<option value="-95">レベル-6</option>
						<option value="-90">レベル-5</option>
						<option value="-80">レベル-4</option>
						<option value="-70">レベル-3</option>
						<option value="-60">レベル-2</option>
						<option value="-50">レベル-1</option>
						<option value="0" selected>レベル0</option>
						<option value="50">レベル1</option>
						<option value="100">レベル2</option>
						<option value="150">レベル3</option>
						<option value="200">レベル4</option>
						<option value="250">レベル5</option>
						<option value="300">レベル6</option>
						<option value="350">レベル7</option>
						<option value="400">レベル8</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>敵防御力アップ</td>
				<td>
					<select id="shiren5_defence_up_enemy" onInput="Shiren5Calc.calc()">
						<option value="400">レベル-8</option>
						<option value="350">レベル-7</option>
						<option value="300">レベル-6</option>
						<option value="250">レベル-5</option>
						<option value="200">レベル-4</option>
						<option value="150">レベル-3</option>
						<option value="100">レベル-2</option>
						<option value="50">レベル-1</option>
						<option value="0" selected>レベル0</option>
						<option value="-50">レベル1</option>
						<option value="-60">レベル2</option>
						<option value="-70">レベル3</option>
						<option value="-80">レベル4</option>
						<option value="-90">レベル5</option>
						<option value="-95">レベル6</option>
						<option value="-97">レベル7</option>
						<option value="-99">レベル8</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>その他攻撃力</td>
				<td>
					<input type="checkbox" id="shiren5_blow_conscience_me" onchange="Shiren5Calc.calc()">
					会心の一撃
					<input type="checkbox" id="shiren5_angry_me" onchange="Shiren5Calc.calc()">
					イカリ
					<input type="checkbox" id="shiren5_blessing_weapon" onchange="Shiren5Calc.calc()">
					祝福武器
					<input type="checkbox" id="shiren5_slip_enemy" onchange="Shiren5Calc.calc()">
					敵スリップ
				</td>
			</tr>
			<tr>
				<td>盾</td>
				<td><input type="number" id="shiren5_shield" min="0" max="152" value="0" onchange="limitFormCheck(this)" onInput="Shiren5Calc.calc()"></td>
			</tr>
			<tr>
				<td>割合軽減</td>
				<td>
					<select id="shiren5_rate_shield_kind" onInput="Shiren5Calc.calc()">
						<option value="無" selected>無軽減盾</option>
						<option value="金">金食い虫の盾</option>
						<option value="昼">昼の盾</option>
					</select>
					<select id="shiren5_rate_shield_level" onInput="Shiren5Calc.calc()">
						<option value="1" selected>レベル1</option>
						<option value="2">レベル2</option>
						<option value="3">レベル3</option>
						<option value="4">レベル4</option>
						<option value="5">レベル5</option>
						<option value="6">レベル6</option>
						<option value="7">レベル7</option>
						<option value="8">レベル8</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>盾印</td>
				<td>
					<input type="checkbox" id="shiren5_rate_money" onchange="Shiren5Calc.calc()">
					金食い
					<input type="checkbox" id="shiren5_rate_noon" onchange="Shiren5Calc.calc()">
					昼強化
					<input type="checkbox" id="shiren5_rate_desperate" onchange="Shiren5Calc.calc()">
					捨て身
				</td>
			</tr>
			<tr>
				<td>自防御力アップ</td>
				<td>
					<select id="shiren5_defence_up_me" onInput="Shiren5Calc.calc()">
						<option value="-400">レベル-8</option>
						<option value="-350">レベル-7</option>
						<option value="-300">レベル-6</option>
						<option value="-250">レベル-5</option>
						<option value="-200">レベル-4</option>
						<option value="-150">レベル-3</option>
						<option value="-100">レベル-2</option>
						<option value="-50">レベル-1</option>
						<option value="0" selected>レベル0</option>
						<option value="20">レベル1</option>
						<option value="30">レベル2</option>
						<option value="40">レベル3</option>
						<option value="50">レベル4</option>
						<option value="60">レベル5</option>
						<option value="70">レベル6</option>
						<option value="80">レベル7</option>
						<option value="90">レベル8</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>階層<br>(絞り込み条件)</td>
				<td>
					<select id="shiren5_dungeon" onInput="Shiren5Calc.calc()">
						<option value="All" selected>全て</option>
						<option value="Genshi">原始に続く穴</option>
						<option value="Zinsei">人生の落とし穴</option>
					</select>
					<input type="number" id="shiren5_floor" min="1" max="99" value="1" onchange="limitFormCheck(this)" onInput="Shiren5Calc.calc()">
				</td>
			</tr>
		</table>
		<table id="shiren5_monster_table">

		</table>
		<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
	  </section>
      <footer>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
	<script src="javascripts/library/global.js"></script>
	<script src="javascripts/library/union_find.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
    <script src="javascripts/scale.fix.js"></script>
    <script src="javascripts/poke_calc.js"></script>
	<script src="javascripts/create_auto_map.js"></script>
	<script src="javascripts/roguelike_game.js"></script>
	<script src="javascripts/shiren5_calc.js"></script>
	   <script>
	    var queries = GetQueryString();
		var id = queries["id"];
		if(id != null) {
			changeSection(id);
		}
		else {
			changeSection("section_index");
		}
		function changeSection(id) {
			var section = document.getElementsByTagName('section');
			for (var elem of section) {
				if (elem.id == id) {
					elem.style.display = "block";
				}
				else {
					elem.style.display = "none";
				}
			}
			if(id == "section_poke_calc") {
				PokeCalc.init();
			}
			else if(id == "section_create_auto_map") {
				AutoMap2D.init();
				AutoMap2D.run();
			}
			else if(id == "section_roguelike_game") {
				rg.init();
			}
			else if(id == "section_shiren5") {
				Shiren5Calc.init();
			}
		}
	</script>
  </body>
</html>
